/*C76*/SET SCHEMA PUBLIC
alter table ElectroniqueDevice drop constraint FK176951B0996A0DE9
alter table Home drop constraint FK2268FF996A0DE9
alter table PeripherieInt drop constraint FKCABE96229965F169
alter table PeripherieInt drop constraint FKCABE9622795A2B1C
alter table Person_Person drop constraint FKB9039F7F996A0DE9
alter table Person_Person drop constraint FKB9039F7FFDE8B7A9
drop table ElectroniqueDevice if exists
drop table Home if exists
drop table PeripherieInt if exists
drop table Person if exists
drop table Person_Person if exists
create table ElectroniqueDevice (id bigint generated by default as identity (start with 1), consommation integer not null, person_id bigint, primary key (id))
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresseIp varchar(255), nbrePieces integer not null, tailleResid integer not null, person_id bigint, primary key (id))
create table PeripherieInt (DTYPE varchar(31) not null, idPeri bigint generated by default as identity (start with 1), consomation integer, id bigint, devices_id bigint, home_id bigint, primary key (idPeri))
create table Person (id bigint generated by default as identity (start with 1), dateNaissance timestamp, genre varchar(255), mail varchar(255), nom varchar(255), prenom varchar(255), profilFcbk varchar(255), primary key (id))
create table Person_Person (Person_id bigint not null, friends_id bigint not null)
alter table ElectroniqueDevice add constraint FK176951B0996A0DE9 foreign key (person_id) references Person
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table PeripherieInt add constraint FKCABE96229965F169 foreign key (home_id) references Home
alter table PeripherieInt add constraint FKCABE9622795A2B1C foreign key (devices_id) references ElectroniqueDevice
alter table Person_Person add constraint FKB9039F7F996A0DE9 foreign key (Person_id) references Person
alter table Person_Person add constraint FKB9039F7FFDE8B7A9 foreign key (friends_id) references Person
INSERT INTO PERSON VALUES(1,NULL,NULL,'balde.kadjatou@gmail.com','balde','kadiatou','kadjatou')
INSERT INTO HOME VALUES(1,'52 avenue de la replubique','192.01.123',1,20,1)
INSERT INTO HOME VALUES(2,'33,Avenue du g\u00e9n\u00e9ral leclerc 37200 Tours','140.01.123',2,30,1)
INSERT INTO PERIPHERIEINT VALUES('HEATER',1,25,0,NULL,2)
INSERT INTO HOME VALUES(3,'58,Rue olivier de serres 35000 Rennes','130.08.97',3,55,1)
INSERT INTO PERIPHERIEINT VALUES('HEATER',2,42,0,NULL,3)
INSERT INTO PERSON VALUES(2,NULL,NULL,'dupond.durand@gmail.com','dupond','durand','dupon')
INSERT INTO PERSON VALUES(3,NULL,NULL,'lucia.marie@gmail.com','lucia','marie','lucie')
INSERT INTO PERSON_PERSON VALUES(1,2)
INSERT INTO PERSON_PERSON VALUES(1,3)
INSERT INTO ELECTRONIQUEDEVICE VALUES(1,45,NULL)
INSERT INTO PERIPHERIEINT VALUES('HEATER',3,52,0,1,NULL)
INSERT INTO ELECTRONIQUEDEVICE VALUES(2,25,NULL)
COMMIT
DISCONNECT
/*C77*/SET SCHEMA PUBLIC
alter table ElectroniqueDevice drop constraint FK176951B0996A0DE9
alter table Home drop constraint FK2268FF996A0DE9
alter table PeripherieInt drop constraint FKCABE96229965F169
alter table PeripherieInt drop constraint FKCABE9622795A2B1C
alter table Person_Person drop constraint FKB9039F7F996A0DE9
alter table Person_Person drop constraint FKB9039F7FFDE8B7A9
drop table ElectroniqueDevice if exists
drop table Home if exists
drop table PeripherieInt if exists
drop table Person if exists
drop table Person_Person if exists
create table ElectroniqueDevice (id bigint generated by default as identity (start with 1), consommation integer not null, person_id bigint, primary key (id))
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresseIp varchar(255), nbrePieces integer not null, tailleResid integer not null, person_id bigint, primary key (id))
create table PeripherieInt (DTYPE varchar(31) not null, idPeri bigint generated by default as identity (start with 1), consomation integer, id bigint, devices_id bigint, home_id bigint, primary key (idPeri))
create table Person (id bigint generated by default as identity (start with 1), dateNaissance timestamp, genre varchar(255), mail varchar(255), nom varchar(255), prenom varchar(255), profilFcbk varchar(255), primary key (id))
create table Person_Person (Person_id bigint not null, friends_id bigint not null)
alter table ElectroniqueDevice add constraint FK176951B0996A0DE9 foreign key (person_id) references Person
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table PeripherieInt add constraint FKCABE96229965F169 foreign key (home_id) references Home
alter table PeripherieInt add constraint FKCABE9622795A2B1C foreign key (devices_id) references ElectroniqueDevice
alter table Person_Person add constraint FKB9039F7F996A0DE9 foreign key (Person_id) references Person
alter table Person_Person add constraint FKB9039F7FFDE8B7A9 foreign key (friends_id) references Person
INSERT INTO PERSON VALUES(1,NULL,NULL,'balde.kadjatou@gmail.com','balde','kadiatou','kadjatou')
INSERT INTO HOME VALUES(1,'52 avenue de la replubique','192.01.123',1,20,1)
INSERT INTO HOME VALUES(2,'33,Avenue du g\u00e9n\u00e9ral leclerc 37200 Tours','140.01.123',2,30,1)
INSERT INTO PERIPHERIEINT VALUES('HEATER',1,25,0,NULL,2)
INSERT INTO HOME VALUES(3,'58,Rue olivier de serres 35000 Rennes','130.08.97',3,55,1)
INSERT INTO PERIPHERIEINT VALUES('HEATER',2,42,0,NULL,3)
INSERT INTO PERSON VALUES(2,NULL,NULL,'dupond.durand@gmail.com','dupond','durand','dupon')
INSERT INTO PERSON VALUES(3,NULL,NULL,'lucia.marie@gmail.com','lucia','marie','lucie')
INSERT INTO ELECTRONIQUEDEVICE VALUES(1,45,NULL)
INSERT INTO PERIPHERIEINT VALUES('HEATER',3,52,0,1,NULL)
INSERT INTO ELECTRONIQUEDEVICE VALUES(2,25,NULL)
INSERT INTO PERSON_PERSON VALUES(1,2)
INSERT INTO PERSON_PERSON VALUES(1,3)
COMMIT
DISCONNECT
/*C78*/SET SCHEMA PUBLIC
alter table ElectroniqueDevice drop constraint FK176951B0996A0DE9
alter table Home drop constraint FK2268FF996A0DE9
alter table PeripherieInt drop constraint FKCABE96229965F169
alter table PeripherieInt drop constraint FKCABE9622795A2B1C
alter table Person_Person drop constraint FKB9039F7F996A0DE9
alter table Person_Person drop constraint FKB9039F7FFDE8B7A9
drop table ElectroniqueDevice if exists
drop table Home if exists
drop table PeripherieInt if exists
drop table Person if exists
drop table Person_Person if exists
create table ElectroniqueDevice (id bigint generated by default as identity (start with 1), consommation integer not null, person_id bigint, primary key (id))
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresseIp varchar(255), nbrePieces integer not null, tailleResid integer not null, person_id bigint, primary key (id))
create table PeripherieInt (DTYPE varchar(31) not null, idPeri bigint generated by default as identity (start with 1), consomation integer, id bigint, devices_id bigint, home_id bigint, primary key (idPeri))
create table Person (id bigint generated by default as identity (start with 1), dateNaissance timestamp, genre varchar(255), mail varchar(255), nom varchar(255), prenom varchar(255), profilFcbk varchar(255), primary key (id))
create table Person_Person (Person_id bigint not null, friends_id bigint not null)
alter table ElectroniqueDevice add constraint FK176951B0996A0DE9 foreign key (person_id) references Person
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table PeripherieInt add constraint FKCABE96229965F169 foreign key (home_id) references Home
alter table PeripherieInt add constraint FKCABE9622795A2B1C foreign key (devices_id) references ElectroniqueDevice
alter table Person_Person add constraint FKB9039F7F996A0DE9 foreign key (Person_id) references Person
alter table Person_Person add constraint FKB9039F7FFDE8B7A9 foreign key (friends_id) references Person
INSERT INTO PERSON VALUES(1,NULL,NULL,'balde.kadjatou@gmail.com','balde','kadiatou','kadjatou')
INSERT INTO HOME VALUES(1,'52 avenue de la replubique','192.01.123',1,20,1)
INSERT INTO HOME VALUES(2,'33,Avenue du g\u00e9n\u00e9ral leclerc 37200 Tours','140.01.123',2,30,1)
INSERT INTO PERIPHERIEINT VALUES('HEATER',1,25,0,NULL,2)
INSERT INTO HOME VALUES(3,'58,Rue olivier de serres 35000 Rennes','130.08.97',3,55,1)
INSERT INTO PERIPHERIEINT VALUES('HEATER',2,42,0,NULL,3)
INSERT INTO PERSON VALUES(2,NULL,NULL,'dupond.durand@gmail.com','dupond','durand','dupon')
INSERT INTO PERSON VALUES(3,NULL,NULL,'lucia.marie@gmail.com','lucia','marie','lucie')
INSERT INTO ELECTRONIQUEDEVICE VALUES(1,45,NULL)
INSERT INTO PERIPHERIEINT VALUES('HEATER',3,52,0,1,NULL)
INSERT INTO ELECTRONIQUEDEVICE VALUES(2,25,NULL)
INSERT INTO PERSON_PERSON VALUES(1,2)
INSERT INTO PERSON_PERSON VALUES(1,3)
COMMIT
DISCONNECT
/*C79*/SET SCHEMA PUBLIC
alter table ElectroniqueDevice drop constraint FK176951B0996A0DE9
alter table Home drop constraint FK2268FF996A0DE9
alter table PeripherieInt drop constraint FKCABE96229965F169
alter table PeripherieInt drop constraint FKCABE9622795A2B1C
alter table Person_Person drop constraint FKB9039F7F996A0DE9
alter table Person_Person drop constraint FKB9039F7FFDE8B7A9
drop table ElectroniqueDevice if exists
drop table Home if exists
drop table PeripherieInt if exists
drop table Person if exists
drop table Person_Person if exists
create table ElectroniqueDevice (id bigint generated by default as identity (start with 1), consommation integer not null, person_id bigint, primary key (id))
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresseIp varchar(255), nbrePieces integer not null, tailleResid integer not null, person_id bigint, primary key (id))
create table PeripherieInt (DTYPE varchar(31) not null, idPeri bigint generated by default as identity (start with 1), consomation integer, id bigint, devices_id bigint, home_id bigint, primary key (idPeri))
create table Person (id bigint generated by default as identity (start with 1), dateNaissance timestamp, genre varchar(255), mail varchar(255), nom varchar(255), prenom varchar(255), profilFcbk varchar(255), primary key (id))
create table Person_Person (Person_id bigint not null, friends_id bigint not null)
alter table ElectroniqueDevice add constraint FK176951B0996A0DE9 foreign key (person_id) references Person
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table PeripherieInt add constraint FKCABE96229965F169 foreign key (home_id) references Home
alter table PeripherieInt add constraint FKCABE9622795A2B1C foreign key (devices_id) references ElectroniqueDevice
alter table Person_Person add constraint FKB9039F7F996A0DE9 foreign key (Person_id) references Person
alter table Person_Person add constraint FKB9039F7FFDE8B7A9 foreign key (friends_id) references Person
INSERT INTO PERSON VALUES(1,NULL,NULL,'balde.kadjatou@gmail.com','balde','kadiatou','kadjatou')
INSERT INTO HOME VALUES(1,'52 avenue de la replubique','192.01.123',1,20,1)
INSERT INTO HOME VALUES(2,'33,Avenue du g\u00e9n\u00e9ral leclerc 37200 Tours','140.01.123',2,30,1)
INSERT INTO PERIPHERIEINT VALUES('HEATER',1,25,0,NULL,2)
INSERT INTO HOME VALUES(3,'58,Rue olivier de serres 35000 Rennes','130.08.97',3,55,1)
INSERT INTO PERIPHERIEINT VALUES('HEATER',2,42,0,NULL,3)
INSERT INTO PERSON VALUES(2,NULL,NULL,'dupond.durand@gmail.com','dupond','durand','dupon')
INSERT INTO PERSON VALUES(3,NULL,NULL,'lucia.marie@gmail.com','lucia','marie','lucie')
INSERT INTO ELECTRONIQUEDEVICE VALUES(1,45,NULL)
INSERT INTO PERIPHERIEINT VALUES('HEATER',3,52,0,1,NULL)
INSERT INTO ELECTRONIQUEDEVICE VALUES(2,25,NULL)
INSERT INTO PERSON_PERSON VALUES(1,2)
INSERT INTO PERSON_PERSON VALUES(1,3)
COMMIT
DISCONNECT
/*C80*/SET SCHEMA PUBLIC
alter table ElectroniqueDevice drop constraint FK176951B0996A0DE9
alter table Home drop constraint FK2268FF996A0DE9
alter table PeripherieInt drop constraint FKCABE96229965F169
alter table PeripherieInt drop constraint FKCABE9622795A2B1C
alter table Person_Person drop constraint FKB9039F7F996A0DE9
alter table Person_Person drop constraint FKB9039F7FFDE8B7A9
drop table ElectroniqueDevice if exists
drop table Home if exists
drop table PeripherieInt if exists
drop table Person if exists
drop table Person_Person if exists
create table ElectroniqueDevice (id bigint generated by default as identity (start with 1), consommation integer not null, person_id bigint, primary key (id))
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresseIp varchar(255), nbrePieces integer not null, tailleResid integer not null, person_id bigint, primary key (id))
create table PeripherieInt (DTYPE varchar(31) not null, idPeri bigint generated by default as identity (start with 1), consomation integer, id bigint, devices_id bigint, home_id bigint, primary key (idPeri))
create table Person (id bigint generated by default as identity (start with 1), dateNaissance timestamp, genre varchar(255), mail varchar(255), nom varchar(255), prenom varchar(255), profilFcbk varchar(255), primary key (id))
create table Person_Person (Person_id bigint not null, friends_id bigint not null)
alter table ElectroniqueDevice add constraint FK176951B0996A0DE9 foreign key (person_id) references Person
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table PeripherieInt add constraint FKCABE96229965F169 foreign key (home_id) references Home
alter table PeripherieInt add constraint FKCABE9622795A2B1C foreign key (devices_id) references ElectroniqueDevice
alter table Person_Person add constraint FKB9039F7F996A0DE9 foreign key (Person_id) references Person
alter table Person_Person add constraint FKB9039F7FFDE8B7A9 foreign key (friends_id) references Person
INSERT INTO PERSON VALUES(1,NULL,NULL,'balde.kadjatou@gmail.com','balde','kadiatou','kadjatou')
INSERT INTO HOME VALUES(1,'52 avenue de la replubique','192.01.123',1,20,1)
INSERT INTO HOME VALUES(2,'33,Avenue du g\u00e9n\u00e9ral leclerc 37200 Tours','140.01.123',2,30,1)
INSERT INTO PERIPHERIEINT VALUES('HEATER',1,25,0,NULL,2)
INSERT INTO HOME VALUES(3,'58,Rue olivier de serres 35000 Rennes','130.08.97',3,55,1)
INSERT INTO PERIPHERIEINT VALUES('HEATER',2,42,0,NULL,3)
INSERT INTO PERSON VALUES(2,NULL,NULL,'dupond.durand@gmail.com','dupond','durand','dupon')
INSERT INTO PERSON VALUES(3,NULL,NULL,'lucia.marie@gmail.com','lucia','marie','lucie')
INSERT INTO ELECTRONIQUEDEVICE VALUES(1,45,NULL)
INSERT INTO PERIPHERIEINT VALUES('HEATER',3,52,0,1,NULL)
INSERT INTO ELECTRONIQUEDEVICE VALUES(2,25,NULL)
INSERT INTO PERSON_PERSON VALUES(1,2)
INSERT INTO PERSON_PERSON VALUES(1,3)
COMMIT
DISCONNECT
/*C75*/SET SCHEMA PUBLIC
DISCONNECT
/*C81*/SET SCHEMA PUBLIC
drop table peripherieint
/*C82*/SET SCHEMA PUBLIC
alter table ElectroniqueDevice drop constraint FK176951B0996A0DE9
alter table Home drop constraint FK2268FF996A0DE9
alter table Person_Person drop constraint FKB9039F7F996A0DE9
alter table Person_Person drop constraint FKB9039F7FFDE8B7A9
drop table ElectroniqueDevice if exists
drop table Home if exists
drop table PeripherieInt if exists
drop table Person if exists
drop table Person_Person if exists
create table ElectroniqueDevice (id bigint generated by default as identity (start with 1), consommation integer not null, person_id bigint, primary key (id))
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresseIp varchar(255), nbrePieces integer not null, tailleResid integer not null, person_id bigint, primary key (id))
create table PeripherieInt (DTYPE varchar(31) not null, idPeri bigint generated by default as identity (start with 1), consomation integer, id bigint, devices_id bigint, home_id bigint, primary key (idPeri))
create table Person (id bigint generated by default as identity (start with 1), dateNaissance timestamp, genre varchar(255), mail varchar(255), nom varchar(255), prenom varchar(255), profilFcbk varchar(255), primary key (id))
create table Person_Person (Person_id bigint not null, friends_id bigint not null)
alter table ElectroniqueDevice add constraint FK176951B0996A0DE9 foreign key (person_id) references Person
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table PeripherieInt add constraint FKCABE96229965F169 foreign key (home_id) references Home
alter table PeripherieInt add constraint FKCABE9622795A2B1C foreign key (devices_id) references ElectroniqueDevice
alter table Person_Person add constraint FKB9039F7F996A0DE9 foreign key (Person_id) references Person
alter table Person_Person add constraint FKB9039F7FFDE8B7A9 foreign key (friends_id) references Person
INSERT INTO PERSON VALUES(1,NULL,NULL,'balde.kadjatou@gmail.com','balde','kadiatou','kadjatou')
INSERT INTO HOME VALUES(1,'52 avenue de la replubique','192.01.123',1,20,1)
INSERT INTO HOME VALUES(2,'33,Avenue du g\u00e9n\u00e9ral leclerc 37200 Tours','140.01.123',2,30,1)
INSERT INTO PERIPHERIEINT VALUES('HEATER',1,25,0,NULL,2)
INSERT INTO HOME VALUES(3,'58,Rue olivier de serres 35000 Rennes','130.08.97',3,55,1)
INSERT INTO PERIPHERIEINT VALUES('HEATER',2,42,0,NULL,3)
INSERT INTO PERSON VALUES(2,NULL,NULL,'dupond.durand@gmail.com','dupond','durand','dupon')
INSERT INTO PERSON VALUES(3,NULL,NULL,'lucia.marie@gmail.com','lucia','marie','lucie')
INSERT INTO ELECTRONIQUEDEVICE VALUES(1,45,NULL)
INSERT INTO PERIPHERIEINT VALUES('HEATER',3,52,0,1,NULL)
INSERT INTO ELECTRONIQUEDEVICE VALUES(2,25,NULL)
INSERT INTO PERSON_PERSON VALUES(1,2)
INSERT INTO PERSON_PERSON VALUES(1,3)
COMMIT
DISCONNECT
/*C83*/SET SCHEMA PUBLIC
alter table ElectroniqueDevice drop constraint FK176951B0996A0DE9
alter table Home drop constraint FK2268FF996A0DE9
alter table PeripherieInt drop constraint FKCABE96229965F169
alter table Person_Person drop constraint FKB9039F7F996A0DE9
alter table Person_Person drop constraint FKB9039F7FFDE8B7A9
drop table Home if exists
drop table PeripherieInt if exists
drop table Person if exists
drop table Person_Person if exists
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresseIp varchar(255), nbrePieces integer not null, tailleResid integer not null, person_id bigint, primary key (id))
create table PeripherieInt (DTYPE varchar(31) not null, idPeri bigint generated by default as identity (start with 1), consomation integer, id bigint, home_id bigint, primary key (idPeri))
create table Person (id bigint generated by default as identity (start with 1), dateNaissance timestamp, genre varchar(255), mail varchar(255), nom varchar(255), prenom varchar(255), profilFcbk varchar(255), primary key (id))
create table Person_Person (Person_id bigint not null, friends_id bigint not null)
alter table ElectroniqueDevice add constraint FK176951B0996A0DE9 foreign key (person_id) references Person
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table PeripherieInt add constraint FKCABE96229965F169 foreign key (home_id) references Home
alter table Person_Person add constraint FKB9039F7F996A0DE9 foreign key (Person_id) references Person
alter table Person_Person add constraint FKB9039F7FFDE8B7A9 foreign key (friends_id) references Person
INSERT INTO PERSON VALUES(1,NULL,NULL,'balde.kadjatou@gmail.com','balde','kadiatou','kadjatou')
INSERT INTO HOME VALUES(1,'52 avenue de la replubique','192.01.123',1,20,1)
INSERT INTO HOME VALUES(2,'33,Avenue du g\u00e9n\u00e9ral leclerc 37200 Tours','140.01.123',2,30,1)
INSERT INTO PERIPHERIEINT VALUES('HEATER',1,25,0,2)
INSERT INTO HOME VALUES(3,'58,Rue olivier de serres 35000 Rennes','130.08.97',3,55,1)
INSERT INTO PERIPHERIEINT VALUES('HEATER',2,42,0,3)
INSERT INTO PERSON VALUES(2,NULL,NULL,'dupond.durand@gmail.com','dupond','durand','dupon')
INSERT INTO PERSON VALUES(3,NULL,NULL,'lucia.marie@gmail.com','lucia','marie','lucie')
INSERT INTO PERSON_PERSON VALUES(1,2)
INSERT INTO PERSON_PERSON VALUES(1,3)
COMMIT
DISCONNECT
/*C84*/SET SCHEMA PUBLIC
alter table ElectroniqueDevice drop constraint FK176951B0996A0DE9
alter table Home drop constraint FK2268FF996A0DE9
alter table Person_Person drop constraint FKB9039F7F996A0DE9
alter table Person_Person drop constraint FKB9039F7FFDE8B7A9
drop table ElectroniqueDevice if exists
drop table Heater if exists
drop table PeripherieInt if exists
drop table Person if exists
drop table Person_Person if exists
create table ElectroniqueDevice (consommation integer not null, id bigint not null, idPeri bigint not null, person_id bigint, primary key (idPeri))
create table Heater (consomation integer not null, id bigint not null, idPeri bigint not null, home_id bigint, primary key (idPeri))
create table PeripherieInt (idPeri bigint generated by default as identity (start with 1), primary key (idPeri))
create table Person (id bigint generated by default as identity (start with 1), dateNaissance timestamp, genre varchar(255), mail varchar(255), nom varchar(255), prenom varchar(255), profilFcbk varchar(255), primary key (id))
create table Person_Person (Person_id bigint not null, friends_id bigint not null)
alter table ElectroniqueDevice add constraint FK176951B0984FE19A foreign key (idPeri) references PeripherieInt
alter table ElectroniqueDevice add constraint FK176951B0996A0DE9 foreign key (person_id) references Person
alter table Heater add constraint FK809A0ABD984FE19A foreign key (idPeri) references PeripherieInt
alter table Heater add constraint FK809A0ABD9965F169 foreign key (home_id) references Home
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table Person_Person add constraint FKB9039F7F996A0DE9 foreign key (Person_id) references Person
alter table Person_Person add constraint FKB9039F7FFDE8B7A9 foreign key (friends_id) references Person
INSERT INTO PERSON VALUES(1,NULL,NULL,'balde.kadjatou@gmail.com','balde','kadiatou','kadjatou')
INSERT INTO HOME VALUES(4,'52 avenue de la replubique','192.01.123',1,20,1)
INSERT INTO HOME VALUES(5,'33,Avenue du g\u00e9n\u00e9ral leclerc 37200 Tours','140.01.123',2,30,1)
INSERT INTO PERIPHERIEINT VALUES(1)
INSERT INTO HEATER VALUES(25,0,1,5)
INSERT INTO HOME VALUES(6,'58,Rue olivier de serres 35000 Rennes','130.08.97',3,55,1)
INSERT INTO PERIPHERIEINT VALUES(2)
INSERT INTO HEATER VALUES(42,0,2,6)
INSERT INTO PERSON VALUES(2,NULL,NULL,'dupond.durand@gmail.com','dupond','durand','dupon')
INSERT INTO PERSON VALUES(3,NULL,NULL,'lucia.marie@gmail.com','lucia','marie','lucie')
INSERT INTO PERIPHERIEINT VALUES(3)
INSERT INTO ELECTRONIQUEDEVICE VALUES(45,0,3,NULL)
INSERT INTO PERIPHERIEINT VALUES(4)
INSERT INTO ELECTRONIQUEDEVICE VALUES(25,0,4,NULL)
INSERT INTO PERSON_PERSON VALUES(1,2)
INSERT INTO PERSON_PERSON VALUES(1,3)
COMMIT
DISCONNECT
/*C85*/SET SCHEMA PUBLIC
alter table ElectroniqueDevice drop constraint FK176951B0984FE19A
alter table ElectroniqueDevice drop constraint FK176951B0996A0DE9
alter table Heater drop constraint FK809A0ABD984FE19A
alter table Heater drop constraint FK809A0ABD9965F169
alter table Home drop constraint FK2268FF996A0DE9
alter table Person_Person drop constraint FKB9039F7F996A0DE9
alter table Person_Person drop constraint FKB9039F7FFDE8B7A9
drop table ElectroniqueDevice if exists
drop table Heater if exists
drop table Home if exists
drop table PeripherieInt if exists
drop table Person if exists
drop table Person_Person if exists
create table ElectroniqueDevice (consommation integer not null, id bigint not null, idPeri bigint not null, person_id bigint, primary key (idPeri))
create table Heater (consomation integer not null, id bigint not null, idPeri bigint not null, home_id bigint, primary key (idPeri))
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresseIp varchar(255), nbrePieces integer not null, tailleResid integer not null, person_id bigint, primary key (id))
create table PeripherieInt (idPeri bigint generated by default as identity (start with 1), primary key (idPeri))
create table Person (id bigint generated by default as identity (start with 1), dateNaissance timestamp, genre varchar(255), mail varchar(255), nom varchar(255), prenom varchar(255), profilFcbk varchar(255), primary key (id))
create table Person_Person (Person_id bigint not null, friends_id bigint not null)
alter table ElectroniqueDevice add constraint FK176951B0984FE19A foreign key (idPeri) references PeripherieInt
alter table ElectroniqueDevice add constraint FK176951B0996A0DE9 foreign key (person_id) references Person
alter table Heater add constraint FK809A0ABD984FE19A foreign key (idPeri) references PeripherieInt
alter table Heater add constraint FK809A0ABD9965F169 foreign key (home_id) references Home
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table Person_Person add constraint FKB9039F7F996A0DE9 foreign key (Person_id) references Person
alter table Person_Person add constraint FKB9039F7FFDE8B7A9 foreign key (friends_id) references Person
INSERT INTO PERSON VALUES(1,NULL,NULL,'balde.kadjatou@gmail.com','balde','kadiatou','kadjatou')
INSERT INTO PERIPHERIEINT VALUES(1)
INSERT INTO ELECTRONIQUEDEVICE VALUES(30,0,1,1)
INSERT INTO HOME VALUES(1,'52 avenue de la replubique','192.01.123',1,20,1)
INSERT INTO HOME VALUES(2,'33,Avenue du g\u00e9n\u00e9ral leclerc 37200 Tours','140.01.123',2,30,1)
INSERT INTO PERIPHERIEINT VALUES(2)
INSERT INTO HEATER VALUES(25,0,2,2)
INSERT INTO HOME VALUES(3,'58,Rue olivier de serres 35000 Rennes','130.08.97',3,55,1)
INSERT INTO PERIPHERIEINT VALUES(3)
INSERT INTO HEATER VALUES(42,0,3,3)
INSERT INTO PERSON VALUES(2,NULL,NULL,'dupond.durand@gmail.com','dupond','durand','dupon')
INSERT INTO PERSON VALUES(3,NULL,NULL,'lucia.marie@gmail.com','lucia','marie','lucie')
INSERT INTO PERSON_PERSON VALUES(1,2)
INSERT INTO PERSON_PERSON VALUES(1,3)
COMMIT
DISCONNECT
/*C81*/DISCONNECT
